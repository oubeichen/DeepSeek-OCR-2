# DeepSeek-OCR-2 API Server Environment Configuration
# Copy this file to .env and modify as needed

# ===================
# Model Configuration
# ===================
DEEPSEEK_OCR2_MODEL_PATH=deepseek-ai/DeepSeek-OCR-2
DEEPSEEK_OCR2_DTYPE=bfloat16
DEEPSEEK_OCR2_TRUST_REMOTE_CODE=true

# =================
# GPU Configuration
# =================
DEEPSEEK_OCR2_CUDA_VISIBLE_DEVICES=0
DEEPSEEK_OCR2_GPU_MEMORY_UTILIZATION=0.8
DEEPSEEK_OCR2_TENSOR_PARALLEL_SIZE=1

# ==================
# vLLM Configuration
# ==================
DEEPSEEK_OCR2_MAX_MODEL_LEN=8192
DEEPSEEK_OCR2_BLOCK_SIZE=256
DEEPSEEK_OCR2_SWAP_SPACE=0
DEEPSEEK_OCR2_MAX_NUM_SEQS=100
DEEPSEEK_OCR2_ENFORCE_EAGER=false

# ==========================
# Image Processing Settings
# ==========================
DEEPSEEK_OCR2_IMAGE_SIZE=768
DEEPSEEK_OCR2_BASE_SIZE=1024
DEEPSEEK_OCR2_MIN_CROPS=2
DEEPSEEK_OCR2_MAX_CROPS=6
DEEPSEEK_OCR2_CROP_MODE=true
DEEPSEEK_OCR2_NUM_WORKERS=64

# ===================
# Sampling Parameters
# ===================
DEEPSEEK_OCR2_TEMPERATURE=0.0
DEEPSEEK_OCR2_MAX_TOKENS=8192
DEEPSEEK_OCR2_NGRAM_SIZE=20
DEEPSEEK_OCR2_WINDOW_SIZE=90

# ================
# PDF Settings
# ================
DEEPSEEK_OCR2_PDF_DPI=144
DEEPSEEK_OCR2_PDF_IMAGE_FORMAT=PNG

# ====================
# Server Configuration
# ====================
DEEPSEEK_OCR2_HOST=0.0.0.0
DEEPSEEK_OCR2_PORT=8000
DEEPSEEK_OCR2_WORKERS=1
DEEPSEEK_OCR2_ENGINE_MODE=sync

# ==============
# Default Prompt
# ==============
# DEEPSEEK_OCR2_DEFAULT_PROMPT=<image>\n<|grounding|>Convert the document to markdown.
